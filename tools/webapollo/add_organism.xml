<?xml version="1.0"?>
<tool id="edu.tamu.cpt2.webapollo.add_organism" name="WA2: Add Organism" version="1.1">
  <description>registers a new genome with WebApollo</description>
  <macros>
    <import>macros.xml</import>
  </macros>
  <expand macro="requirements"/>
  <command detect_errors="aggressive"><![CDATA[
python $__tool_directory__/add_organism.py

@AUTH@

#if str($jbrowse) != "None":
    --jbrowse $jbrowse.files_path/JBrowse-1.11.6/data/
#end if

#if str($blatdb) != "None":
    --blastdb "$blatdb"
#end if

--cn "$organism_cn"
--genus "$genus"
--species "$species"

> $output]]></command>
  <inputs>
    <!--<expand macro="auth_file" />-->

    <param name="jbrowse" type="data" format="html" label="JBrowse HTML Output" />
    <param name="blatdb" type="data" label="Blat DB" />

    <param name="organism_cn" type="text" label="Organism Common Name"/>
    <param name="genus" type="text" label="Host Bacteria" />
    <param name="specis" type="text" label="Phage Name" />

    <!--<expand macro="dummy" />-->
  </inputs>
  <outputs>
    <data format="gff3" name="output"/>
  </outputs>
  <help><![CDATA[
**What it does**

Adds an organism to the Apollo database. The tool takes the output of a
JBrowse run as that contains all of the necessary information for which
tracks are appropriate for a given analysis.
      ]]></help>
</tool>
