<?xml version="1.0"?>
<tool id="edu.tamu.cpt.fasta.regex" name="FASTA Regex Search" version="1.0">
  <description>Filter sequences based on regular expressions</description>
  <version_command>python fasta_regex_search.py --version</version_command>
  <command interpreter="python" detect_errors="aggressive"><![CDATA[fasta_regex_search.py
$positional_1
"$positional_2"
$positional_3
> $default]]></command>
  <inputs>
    <param label="Fasta Sequence" name="positional_1" type="data" format="fasta"/>
    <param area="false" label="Regular Expression" name="positional_2" type="text">
        <sanitizer invalid_char="">
            <valid>
                <add value="[" />
                <add value="]" />
                <add value="{" />
                <add value="}" />
                <add value="$" />
            </valid>
        </sanitizer>
    </param>
  </inputs>
  <outputs>
    <data format="fasta" name="default" label="$positional_2 in $positional_1.name"/>
    <data format="tabular" name="positional_3" label="Regular expression search statistics"/>
  </outputs>
  <tests>
      <test>
          <param name="positional_1" value="random.fa" />
          <param name="positional_2" value="A{3}" />
          <output name="default" file="regex.a3.fa" />
          <output name="positional_3" file="stats.tsv" />
      </test>
  </tests>
  <help><![CDATA[
**What it does**

Filter FASTA Sequences with regular expressions.

For example to find a sequence with a Cysteine residue within the first 30
amino acids, you might use the following: ``.{0,29}C``, which says 0-29 of ANY
character, then a C. For help with advanced queries, please talk to your
friendly bioinformatician.
]]></help>
    <expand macro="citations" />
</tool>
