<?xml version="1.0"?>
<tool id="tmp.efetch" name="EFetch" version="1.05">
  <command detect_errors="aggressive"><![CDATA[
$__tool_directory__/edirect/epost
-db nuccore
#if $input_type.input_type_selector == "ids_file":
    -input "$input_type.file_of_ids"
#elif $input_type.input_type_selector == "paste_ids":
    -id "$input_type.pasted_ids"
#end if
| $__tool_directory__/edirect/efetch
#if $format_selector == "gbwithparts":
    -format gbwithparts
#elif $format_selector == "gb":
    -format gb
#elif $format_selector == "fasta":
    -format fasta
#elif $format_selector == "fasta_cds_aa":
    -format fasta_cds_aa
#elif $format_selector == "fasta_cds_na":
    -format fasta_cds_na
#end if
> "$output"
]]></command>
    <inputs>
        <param name="format_selector" type="select" label="Format">
          <option value="gbwithparts">GenBank with Contig Sequences</option>
          <option value="gb">GenBank Flatfile</option>
          <option value="fasta">FASTA</option>
          <option value="fasta_cds_aa">FASTA of CDS Products</option>
          <option value="fasta_cds_na">FASTA of Coding Regions</option>
        </param>
        <conditional name="input_type">
            <param name="input_type_selector" type="select" label="Input Type">
              <option value="ids_file">file containing a newline-separated list of IDs</option>
              <option value="paste_ids">pasted list of IDs separated by a newline</option>
            </param>
            <when value="ids_file">
                <param label="ID File" name="file_of_ids" type="data" format="tabular" help="Newline-separated list of IDs"/>
            </when>
            <when value="paste_ids">
                <param label="ID List" name="pasted_ids" type="text" area="true" help="Newline-separated list of IDs"/>
            </when>
        </conditional>
    </inputs>
    <outputs>
        <data format="genbank" name="output" label="NCBI GenBank File Downloader" />
    </outputs>
    <help><![CDATA[
DO NOT USE THIS. It is not user friendly / configurable at all. DO NOT BUILD ON THIS. Use IUC tools.
      ]]></help>
</tool>
