<?xml version="1.0"?>
<tool id="tmp.efetch" name="EFetch" version="1.02">
  <command detect_errors="aggressive"><![CDATA[
$__tool_directory__/edirect/epost
-db nuccore
#if $input_type.input_type_selector == "ids_file":
    -input "$input_type.file_of_ids"
#elif $input_type.input_type_selector == "paste_ids":
    -id "$input_type.pasted_ids"
#end if
| $__tool_directory__/edirect/efetch
-format gbwithparts > "$output"
]]></command>
    <inputs>
        <conditional name="input_type">
            <param name="input_type_selector" type="select" label="Input Type">
              <option value="ids_file">choose file containing newline separated list of ids</option>
              <option value="paste_ids">paste a newline separated list of ids</option>
            </param>
            <when value="ids_file">
                <param label="ID File" name="file_of_ids" type="data" format="tabular" help="NEWLINE separated list of IDs to fetch from NUCLEOTIDE as GENBANK"/>
            </when>
            <when value="paste_ids">
                <param label="ID List" name="pasted_ids" type="text" area="true" help="Newline separated list of IDs"/>
            </when>
        </conditional>
    </inputs>
    <outputs>
        <data format="genbank" name="output" label="NCBI GenBank File Downloader" />
    </outputs>
    <help><![CDATA[
DO NOT USE THIS. It is not user friendly / configurable at all. DO NOT BUILD ON THIS. Use IUC tools.
      ]]></help>
</tool>
