<?xml version="1.0"?>
<tool id="tmp.efetch" name="EFetch" version="1.01">
  <command detect_errors="aggressive"><![CDATA[
$__tool_directory__/edirect/epost
-db nuccore
#if $input_type.input_type_selector == "ids_file":
    -input \$(cat "$input_type.file_of_ids" | paste -d ',' -s)
#elif $input_type.input_type_selector == "paste_ids":
    -id "$input_type.pasted_ids"
#end if
| $__tool_directory__/edirect/efetch
-format gbwithparts > "$output"
]]></command>
  <!--<inputs>-->
      <!--<conditional name="input_type">-->
    <!--<param name="db_opts_selector" type="select" label="Subject database/sequences">-->
        <!--<option value="user_db">BLAST Database in your History</option>-->
        <!--<option value="fasta">FASTA file</option>-->
        <!--<param label="ID File" name="id_list" type="data" format="tabular" help="NEWLINE separated list of IDs to fetch from NUCLEOTIDE as GENBANK"/>-->
        <!--<param label="NCBI ID List" name="id_list" type="text" area="true" help="Newline/Comma separated list of IDs"/>-->
    <!--</param>-->

  <!--</inputs>-->
    <inputs>
        <conditional name="input_type">
            <param name="input_type_selector" type="select" label="Input Type">
              <option value="ids_file">choose file containing newline separated list of ids</option>
              <option value="paste_ids">paste a newline separated list of ids</option>
            </param>
            <when value="ids_file">
                <param label="ID File" name="file_of_ids" type="data" format="tabular" help="NEWLINE separated list of IDs to fetch from NUCLEOTIDE as GENBANK"/>
            </when>
            <when value="paste_ids">
                <param label="ID List" name="pasted_ids" type="text" area="true" help="Comma separated list of IDs"/>
            </when>
        </conditional>
    </inputs>
    <outputs>
        <data format="genbank" name="output" label="NCBI GenBank File Downloader" />
    </outputs>
    <help><![CDATA[
DO NOT USE THIS. It is not user friendly / configurable at all. DO NOT BUILD ON THIS. Use IUC tools.
      ]]></help>
</tool>
