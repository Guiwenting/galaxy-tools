<?xml version="1.0"?>
<tool id="edu.tamu.cpt.gbk.seq_export" name="Genbank Genome Sequence Export" version="1.1">
  <description>export sequence from Genbank files as fasta</description>
  <version_command>python seq_export.py --version</version_command>
  <command interpreter="python" detect_errors="aggressive"><![CDATA[seq_export.py
$positional_1
--name_src $nmsrc
> $default]]></command>
  <inputs>
    <param label="Genbank file" name="positional_1" type="data"/>
    <param label="Name source" name="nmsrc" type="select">
        <option value="id">Record ID</option>
        <option selected="True" value="name">Record Name</option>
        <option value="phage_name">Extracted Phage Name</option>
    </param>

    <param label="Use name instead of record id" name="use_name" type="boolean" truevalue="--use_name" falsevalue=""
        help="This allows you to remove the .1 and .2 like numbers from genbank/refseq entries which is required for JBrowse et. al to work nicely."/>
  </inputs>
  <outputs>
    <data format="fasta" hidden="false" name="default"/>
  </outputs>
  <help><![CDATA[
**What it does**

Exports genomes from Genbank files

**Name Source**

Use this parameter to select an appropriate name source.

-  id is appropriate for very few cases
-  name is usually a much better choice, as it strips the version (.1, .2) from
   the record ID. This is **required** for JBrowse/Apollo to work properly.
-  Phage name is a good choice for making publication quality plots, it will
   attempt to extract the phage name from the full genome name (e.g. "Bcep
   phage Alice, complete genome." becomes, simply "Alice")
]]></help>
</tool>
