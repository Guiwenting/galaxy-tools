<?xml version="1.0"?>
<tool id="edu.tamu.cpt.gbk.remove_tag" name="Remove GenBank Tags" version="0.3">
    <description>removes specific tags/qualifiers from a GenBank file</description>
  <macros>
    <import>macros.xml</import>
  </macros>
  <expand macro="requirements"/>
  <command detect_errors="aggressive"><![CDATA[
python $__tool_directory__/remove_tag.py
$gbk_files

#if $feature_type and $feature_type is not None:
--feature_type "$feature_type"
#end if

#if $tag_type and $tag_type is not None:
--tag_type "$tag_type"
#end if

#if $tag_match and $tag_match is not None:
--tag_match "$tag_match"
#end if
> $default]]></command>
  <inputs>
    <param label="GenBank file" name="gbk_files" type="data" format="genbank"/>
	<expand macro="gbk_feature_type" />
    <param label="Tag type to remove" name="tag_type" type="text"/>
    <param label="String in tag to match" name="tag_match" type="text"/>
  </inputs>
  <outputs>
	<data format="genbank" name="default" label="${gbk_files.name} without selected feature tags"/>
  </outputs>
  <tests>
      <test>
          <param name="gbk_files" value="related.gbk" />
          <param name="feature_type" value="CDS" />
          <param name="tag_type" value="translation" />
          <output name="default" file="related.nolocus.gbk" />
      </test>
  </tests>
  <help><![CDATA[
**What it does**

Removes selected qualifiers from a GenBank file.

**How to use it**

Setting the feature type lets you narrow the search to specific features like
CDSs or tRNAs.

Setting the tag type lets you filter based on feature tags like ``/product`` or
``/note``.

Setting the "String in tag to match" lets you match specific text strings like
"Hypothetical" and so on.
]]></help>
</tool>
