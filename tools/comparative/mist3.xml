<?xml version="1.0"?>
<tool id="edu.tamu.cpt.mist3" name="MIST v3" version="3.0">
  <description>Multiple Interrelated Sequence doT plotter. Uses a stripped down vesion of Gepard (Dr. Jan Krumsiek/HelmholtzZentrum/IBIS) for dot plotting.</description>
  <version_command>python cpt_mist2.py --version</version_command>
  <stdio>
    <exit_code level="fatal" range="1:"/>
  </stdio>
  <command interpreter="python">cpt_mist2.py
--galaxy
--outfile_supporting $__new_file_path__
#for $item in $repeat_file:
--file "${item.file}"
--label "${item.label}"
#end for

--window "${window}"

--zoom "${zoom}"

--matrix "${matrix}"

--dotplot "${dotplot}"

--dotplot_files_path "${dotplot.files_path}"

--dotplot_format "${dotplot_format}"

--dotplot_id "${dotplot.id}"

</command>
  <inputs>
    <repeat name="repeat_file" title="File">
      <param help="Input file" label="file" name="file" optional="False" type="data"/>
      <param help="Label (per input file)" label="label" name="label" optional="False" type="text"/>
    </repeat>
    <param help="How zoomed in the image is. Be careful with this option. It represents the number of bases to plot in a single pixel. For large genomes, this can mean very large images, and should be lowered appropriately. For a value of 50, 50 bases would be considered a single pixel in the output image. For 1Mbp of genomes totaly (say 5 x 200 kb phages), this would result in a 20,000 pixel image." label="zoom" name="zoom" optional="False" type="text" value="50"/>
    <param help="Window Size" label="window" name="window" optional="False" type="integer" value="10"/>
    <param help="Comparison Matrix" label="matrix" name="matrix" optional="False" type="select" value="edna.mat">
      <option value="blosum62.mat">Blosum62</option>
      <option selected="True" value="edna.mat">Extended DNA</option>
      <option value="ednaorig.mat">Extended DNA (Original)</option>
      <option value="pam250.mat">Pam 250</option>
      <option value="protidentity.mat">Protein Identity</option>
    </param>
    <param help="MIST Plot" label="Format of dotplot" name="dotplot_format" optional="False" type="select">
      <option selected="True" value="HTML">HTML</option>
    </param>
  </inputs>
  <outputs>
    <data format="HTML" name="dotplot">
      <change_format>
        <when format="html" input="dotplot_format" value="HTML"/>
      </change_format>
    </data>
  </outputs>
  <help>Multiple Interrlated Sequence doTplotter
========================================

Uses a stripped down vesion of Gepard (Dr. Jan Krumsiek/HelmholtzZentrum/IBIS)
for dot plotting.

</help>
  <tests/>
</tool>
